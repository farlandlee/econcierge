<ul class="list-inline header-action">
  <li>
    <%= link to: admin_vendor_product_path(@conn, :edit, @vendor, @product), class: "btn btn-primary" do %>
    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit
    <% end %>
  </li>
  <li>
    <%= link to: admin_vendor_product_path(@conn, :clone, @vendor, @product), class: "btn btn-success" do %>
      <span class="glyphicon glyphicon-copy" aria-hidden="true"></span> Clone
    <% end %>
  </li>
  <li>
    <%= link to: admin_vendor_product_path(@conn, :delete, @vendor, @product), method: :delete, data: [confirm: "Are you sure?"], class: "btn btn-danger" do %>
      <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Delete
    <% end %>
  </li>
</ul>

<p class="lead"><%= @product.description %></p>
<dl class="dl-horizontal">

  <dt>Duration</dt>
  <dd><%= pretty_duration @product.duration %></dd>

  <dt>Location</dt>
  <dd>
  <%= if @product.pickup do %>
    <em>Customer will be picked up.</em>
  <% else %>
    <%= LocationView.pretty_location @product.meeting_location %>
  <% end %>
  </dd>

  <dt>Experience</dt>
  <dd><%= @product.experience.name %></dd>

  <dt>Amenities</td>
  <dd>
    <%= Grid.AdminView.pretty_name_list(@product.amenity_options) %>
  </dd>

  <% errors = Grid.Product.check_bookability(@product) %>
  <dt>Published</dt>
  <dd>
    <%= published_icon(errors) %>
    <span class="bg-warning">
      <%= pretty_errors(errors) %>
    </span>
  </dd>

</dl>
<div class="panel panel-default">
  <div class="panel-heading">
    <%= link to: admin_vendor_product_price_path(@conn, :new, @vendor, @product), class: "btn btn-xs btn-success pull-right" do  %>
      <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add Price
    <% end %>
    <h3 class="panel-title">Prices</h3>
  </div>
  <%= render Grid.Admin.Vendor.Product.PriceView, "index.html",
    conn: @conn,
    vendor: @vendor,
    product: @product,
    prices: @product.prices
  %>
</div>

<div class="panel panel-default">
  <div class="panel-heading">
    <%= link to: admin_vendor_product_start_time_path(@conn, :new, @vendor, @product), class: "btn btn-xs btn-success pull-right" do %>
      <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add Start Time
    <% end %>
    <h3 class="panel-title">Start Times</h3>
  </div>
  <%= render Grid.Admin.Vendor.Product.StartTimeView, "index.html",
    conn: @conn,
    vendor: @vendor,
    product: @product,
    start_times: @product.start_times,
    changeset: Grid.StartTime.changeset(%Grid.StartTime{})
  %>
</div>
